{"version":3,"file":"system-version.mjs","sources":["../../../../src/tx/signed-extensions/system-version.ts"],"sourcesContent":["import {\n  getDynamicBuilder,\n  MetadataLookup,\n} from \"@polkadot-api/metadata-builders\"\n\ntype DynamicBuilder = ReturnType<typeof getDynamicBuilder>\nexport const getSystemVersionStruct = (\n  lookupFn: MetadataLookup,\n  dynamicBuilder: DynamicBuilder,\n): Record<string, any> => {\n  const constant = lookupFn.metadata.pallets\n    .find((x) => x.name === \"System\")!\n    .constants!.find((s) => s.name === \"Version\")!\n\n  const systemVersion = lookupFn(constant.type)\n  const systemVersionDec = dynamicBuilder.buildDefinition(constant.type).dec\n\n  if (systemVersion.type !== \"struct\") throw new Error(\"not a struct\")\n  return systemVersionDec(constant.value)\n}\n"],"names":[],"mappings":"AAMO,MAAM,sBAAA,GAAyB,CACpC,QAAA,EACA,cAAA,KACwB;AACxB,EAAA,MAAM,WAAW,QAAA,CAAS,QAAA,CAAS,OAAA,CAChC,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,IAAA,KAAS,QAAQ,EAC/B,SAAA,CAAW,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,SAAS,CAAA;AAE9C,EAAA,MAAM,aAAA,GAAgB,QAAA,CAAS,QAAA,CAAS,IAAI,CAAA;AAC5C,EAAA,MAAM,gBAAA,GAAmB,cAAA,CAAe,eAAA,CAAgB,QAAA,CAAS,IAAI,CAAA,CAAE,GAAA;AAEvE,EAAA,IAAI,cAAc,IAAA,KAAS,QAAA,EAAU,MAAM,IAAI,MAAM,cAAc,CAAA;AACnE,EAAA,OAAO,gBAAA,CAAiB,SAAS,KAAK,CAAA;AACxC;;;;"}