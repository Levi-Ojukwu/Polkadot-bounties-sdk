{"version":3,"file":"doubleSet.mjs","sources":["../../src/doubleSet.ts"],"sourcesContent":["export class DoubleSet<T> {\n  private value: Map<T, Set<T>> = new Map()\n\n  constructor(values: Array<[T, T]> = []) {\n    values.forEach(([a, b]) => this.add(a, b))\n  }\n\n  public has(a: T, b: T) {\n    return this.value.get(a)?.has(b) ?? false\n  }\n  public add(a: T, b: T) {\n    if (!this.value.has(a)) {\n      this.value.set(a, new Set())\n    }\n    this.value.get(a)!.add(b)\n  }\n  public addAll(values: Array<[T, T]>) {\n    values.forEach(([a, b]) => this.add(a, b))\n  }\n  public delete(a: T, b: T) {\n    if (!this.value.has(a)) return\n    const set = this.value.get(a)!\n    set.delete(b)\n    if (!set.size) {\n      this.value.delete(a)\n    }\n  }\n  public isEmpty() {\n    return !this.value.size\n  }\n  public get values() {\n    return Array.from(this.value).flatMap(([a, values]) =>\n      Array.from(values).map((b) => [a, b] as [T, T]),\n    )\n  }\n}\n"],"names":[],"mappings":";;;AAAO,MAAM,SAAA,CAAa;AAAA,EAGxB,WAAA,CAAY,MAAA,GAAwB,EAAC,EAAG;AAFxC,IAAA,aAAA,CAAA,IAAA,EAAQ,OAAA,sBAA4B,GAAA,EAAI,CAAA;AAGtC,IAAA,MAAA,CAAO,OAAA,CAAQ,CAAC,CAAC,CAAA,EAAG,CAAC,MAAM,IAAA,CAAK,GAAA,CAAI,CAAA,EAAG,CAAC,CAAC,CAAA;AAAA,EAC3C;AAAA,EAEO,GAAA,CAAI,GAAM,CAAA,EAAM;AACrB,IAAA,OAAO,KAAK,KAAA,CAAM,GAAA,CAAI,CAAC,CAAA,EAAG,GAAA,CAAI,CAAC,CAAA,IAAK,KAAA;AAAA,EACtC;AAAA,EACO,GAAA,CAAI,GAAM,CAAA,EAAM;AACrB,IAAA,IAAI,CAAC,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,CAAC,CAAA,EAAG;AACtB,MAAA,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,CAAA,kBAAG,IAAI,KAAK,CAAA;AAAA,IAC7B;AACA,IAAA,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,CAAC,CAAA,CAAG,IAAI,CAAC,CAAA;AAAA,EAC1B;AAAA,EACO,OAAO,MAAA,EAAuB;AACnC,IAAA,MAAA,CAAO,OAAA,CAAQ,CAAC,CAAC,CAAA,EAAG,CAAC,MAAM,IAAA,CAAK,GAAA,CAAI,CAAA,EAAG,CAAC,CAAC,CAAA;AAAA,EAC3C;AAAA,EACO,MAAA,CAAO,GAAM,CAAA,EAAM;AACxB,IAAA,IAAI,CAAC,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,CAAC,CAAA,EAAG;AACxB,IAAA,MAAM,GAAA,GAAM,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,CAAC,CAAA;AAC5B,IAAA,GAAA,CAAI,OAAO,CAAC,CAAA;AACZ,IAAA,IAAI,CAAC,IAAI,IAAA,EAAM;AACb,MAAA,IAAA,CAAK,KAAA,CAAM,OAAO,CAAC,CAAA;AAAA,IACrB;AAAA,EACF;AAAA,EACO,OAAA,GAAU;AACf,IAAA,OAAO,CAAC,KAAK,KAAA,CAAM,IAAA;AAAA,EACrB;AAAA,EACA,IAAW,MAAA,GAAS;AAClB,IAAA,OAAO,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,KAAK,CAAA,CAAE,OAAA;AAAA,MAAQ,CAAC,CAAC,CAAA,EAAG,MAAM,MAC/C,KAAA,CAAM,IAAA,CAAK,MAAM,CAAA,CAAE,IAAI,CAAC,CAAA,KAAM,CAAC,CAAA,EAAG,CAAC,CAAW;AAAA,KAChD;AAAA,EACF;AACF;;;;"}