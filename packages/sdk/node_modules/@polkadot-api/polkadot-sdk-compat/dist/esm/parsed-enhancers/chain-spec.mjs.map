{"version":3,"file":"chain-spec.mjs","sources":["../../../src/parsed-enhancers/chain-spec.ts"],"sourcesContent":["import type { ParsedJsonRpcEnhancer } from \"@/parsed\"\nimport { chainSpec } from \"@/methods\"\n\nexport const fixChainSpec: ParsedJsonRpcEnhancer = (base) => (onMsg) => {\n  const { send: originalSend, disconnect } = base(onMsg)\n\n  const send = (msg: any) => {\n    switch (msg.method) {\n      case chainSpec.chainName:\n        return originalSend({ ...msg, method: \"system_chain\" })\n      case chainSpec.genesisHash:\n        return originalSend({\n          ...msg,\n          method: \"chain_getBlockHash\",\n          params: [0],\n        })\n      case chainSpec.properties:\n        return originalSend({ ...msg, method: \"system_properties\" })\n    }\n    originalSend(msg)\n  }\n\n  return {\n    send,\n    disconnect,\n  }\n}\n"],"names":[],"mappings":";;AAGO,MAAM,YAAA,GAAsC,CAAC,IAAA,KAAS,CAAC,KAAA,KAAU;AACtE,EAAA,MAAM,EAAE,IAAA,EAAM,YAAA,EAAc,UAAA,EAAW,GAAI,KAAK,KAAK,CAAA;AAErD,EAAA,MAAM,IAAA,GAAO,CAAC,GAAA,KAAa;AACzB,IAAA,QAAQ,IAAI,MAAA;AAAQ,MAClB,KAAK,SAAA,CAAU,SAAA;AACb,QAAA,OAAO,aAAa,EAAE,GAAG,GAAA,EAAK,MAAA,EAAQ,gBAAgB,CAAA;AAAA,MACxD,KAAK,SAAA,CAAU,WAAA;AACb,QAAA,OAAO,YAAA,CAAa;AAAA,UAClB,GAAG,GAAA;AAAA,UACH,MAAA,EAAQ,oBAAA;AAAA,UACR,MAAA,EAAQ,CAAC,CAAC;AAAA,SACX,CAAA;AAAA,MACH,KAAK,SAAA,CAAU,UAAA;AACb,QAAA,OAAO,aAAa,EAAE,GAAG,GAAA,EAAK,MAAA,EAAQ,qBAAqB,CAAA;AAAA;AAE/D,IAAA,YAAA,CAAa,GAAG,CAAA;AAAA,EAClB,CAAA;AAEA,EAAA,OAAO;AAAA,IACL,IAAA;AAAA,IACA;AAAA,GACF;AACF;;;;"}