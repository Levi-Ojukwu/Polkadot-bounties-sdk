{"version":3,"file":"operation-inaccessible-retry.mjs","sources":["../../../../src/chainHead/enhancers/operation-inaccessible-retry.ts"],"sourcesContent":["import { OperationInaccessibleError } from \"@polkadot-api/substrate-client\"\nimport { catchError, concatMap, Observable, throwError, timer } from \"rxjs\"\n\nexport const withOperationInaccessibleRetry = <T>(source$: Observable<T>) => {\n  const result: Observable<T> = source$.pipe(\n    catchError((e) =>\n      e instanceof OperationInaccessibleError\n        ? timer(750).pipe(concatMap(() => result))\n        : throwError(() => e),\n    ),\n  )\n  return result\n}\n"],"names":[],"mappings":";;;AAGO,MAAM,8BAAA,GAAiC,CAAI,OAAA,KAA2B;AAC3E,EAAA,MAAM,SAAwB,OAAA,CAAQ,IAAA;AAAA,IACpC,UAAA;AAAA,MAAW,CAAC,CAAA,KACV,CAAA,YAAa,0BAAA,GACT,MAAM,GAAG,CAAA,CAAE,IAAA,CAAK,SAAA,CAAU,MAAM,MAAM,CAAC,CAAA,GACvC,UAAA,CAAW,MAAM,CAAC;AAAA;AACxB,GACF;AACA,EAAA,OAAO,MAAA;AACT;;;;"}