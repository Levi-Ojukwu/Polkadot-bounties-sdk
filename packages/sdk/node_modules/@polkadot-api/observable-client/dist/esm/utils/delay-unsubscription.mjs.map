{"version":3,"file":"delay-unsubscription.mjs","sources":["../../../src/utils/delay-unsubscription.ts"],"sourcesContent":["import { Observable } from \"rxjs\"\n\nexport const delayUnsubscription =\n  (ms?: number) =>\n  <T>(source: Observable<T>): Observable<T> =>\n    new Observable((observer) => {\n      const subscription = source.subscribe({\n        next(v) {\n          observer.next(v)\n        },\n        error(e) {\n          observer.error(e)\n        },\n        complete() {\n          observer.complete()\n        },\n      })\n      const unsubscribe = () => subscription.unsubscribe()\n      return () => {\n        if (ms != null) setTimeout(unsubscribe, ms)\n        else Promise.resolve().then(unsubscribe)\n      }\n    })\n"],"names":[],"mappings":";;AAEO,MAAM,mBAAA,GACX,CAAC,EAAA,KACD,CAAI,WACF,IAAI,UAAA,CAAW,CAAC,QAAA,KAAa;AAC3B,EAAA,MAAM,YAAA,GAAe,OAAO,SAAA,CAAU;AAAA,IACpC,KAAK,CAAA,EAAG;AACN,MAAA,QAAA,CAAS,KAAK,CAAC,CAAA;AAAA,IACjB,CAAA;AAAA,IACA,MAAM,CAAA,EAAG;AACP,MAAA,QAAA,CAAS,MAAM,CAAC,CAAA;AAAA,IAClB,CAAA;AAAA,IACA,QAAA,GAAW;AACT,MAAA,QAAA,CAAS,QAAA,EAAS;AAAA,IACpB;AAAA,GACD,CAAA;AACD,EAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,WAAA,EAAY;AACnD,EAAA,OAAO,MAAM;AACX,IACK,OAAA,CAAQ,OAAA,EAAQ,CAAE,IAAA,CAAK,WAAW,CAAA;AAAA,EACzC,CAAA;AACF,CAAC;;;;"}