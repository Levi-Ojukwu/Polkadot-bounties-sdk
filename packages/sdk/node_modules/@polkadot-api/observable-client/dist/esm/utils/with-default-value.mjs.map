{"version":3,"file":"with-default-value.mjs","sources":["../../../src/utils/with-default-value.ts"],"sourcesContent":["import { Observable } from \"rxjs\"\n\nexport const withDefaultValue =\n  <V, T>(defaultValue: V) =>\n  (source$: Observable<T>): Observable<V | T> =>\n    new Observable((observer) => {\n      let hasEmited = false\n\n      const subscription = source$.subscribe({\n        next(v) {\n          hasEmited = true\n          observer.next(v)\n        },\n        error(e) {\n          observer.error(e)\n        },\n        complete() {\n          observer.complete()\n        },\n      })\n\n      if (!hasEmited) observer.next(defaultValue)\n\n      return subscription\n    })\n"],"names":[],"mappings":";;AAEO,MAAM,gBAAA,GACX,CAAO,YAAA,KACP,CAAC,YACC,IAAI,UAAA,CAAW,CAAC,QAAA,KAAa;AAC3B,EAAA,IAAI,SAAA,GAAY,KAAA;AAEhB,EAAA,MAAM,YAAA,GAAe,QAAQ,SAAA,CAAU;AAAA,IACrC,KAAK,CAAA,EAAG;AACN,MAAA,SAAA,GAAY,IAAA;AACZ,MAAA,QAAA,CAAS,KAAK,CAAC,CAAA;AAAA,IACjB,CAAA;AAAA,IACA,MAAM,CAAA,EAAG;AACP,MAAA,QAAA,CAAS,MAAM,CAAC,CAAA;AAAA,IAClB,CAAA;AAAA,IACA,QAAA,GAAW;AACT,MAAA,QAAA,CAAS,QAAA,EAAS;AAAA,IACpB;AAAA,GACD,CAAA;AAED,EAAA,IAAI,CAAC,SAAA,EAAW,QAAA,CAAS,IAAA,CAAK,YAAY,CAAA;AAE1C,EAAA,OAAO,YAAA;AACT,CAAC;;;;"}